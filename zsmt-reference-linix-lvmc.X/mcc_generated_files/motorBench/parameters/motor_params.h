/* This is an autogenerated file from a template. Do not edit this file as it will be overwritten.*/
/**
 *
 * motor_params.h
 *
 * Motor parameters
 *
 * Component: miscellaneous
 */ /*
 *
 * Motor Control Application Framework
 * R8/RC38 (commit 128946, build on 2025 Apr 09)
 *
 * (c) 2017 - 2023 Microchip Technology Inc. and its subsidiaries. You may use
 * this software and any derivatives exclusively with Microchip products.
 *
 * This software and any accompanying information is for suggestion only.
 * It does not modify Microchip's standard warranty for its products.
 * You agree that you are solely responsible for testing the software and
 * determining its suitability.  Microchip has no obligation to modify,
 * test, certify, or support the software.
 *
 * THIS SOFTWARE IS SUPPLIED BY MICROCHIP "AS IS".  NO WARRANTIES,
 * WHETHER EXPRESS, IMPLIED OR STATUTORY, APPLY TO THIS SOFTWARE,
 * INCLUDING ANY IMPLIED WARRANTIES OF NON-INFRINGEMENT, MERCHANTABILITY,
 * AND FITNESS FOR A PARTICULAR PURPOSE, OR ITS INTERACTION WITH
 * MICROCHIP PRODUCTS, COMBINATION WITH ANY OTHER PRODUCTS, OR USE IN ANY
 * APPLICATION.
 *
 * IN NO EVENT WILL MICROCHIP BE LIABLE FOR ANY INDIRECT, SPECIAL,
 * PUNITIVE, INCIDENTAL OR CONSEQUENTIAL LOSS, DAMAGE, COST OR EXPENSE OF
 * ANY KIND WHATSOEVER RELATED TO THE USE OF THIS SOFTWARE, THE
 * motorBench(R) DEVELOPMENT SUITE TOOL, PARAMETERS AND GENERATED CODE,
 * HOWEVER CAUSED, BY END USERS, WHETHER MICROCHIP'S CUSTOMERS OR
 * CUSTOMER'S CUSTOMERS, EVEN IF MICROCHIP HAS BEEN ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGES OR THE DAMAGES ARE FORESEEABLE. TO THE
 * FULLEST EXTENT ALLOWED BY LAW, MICROCHIP'S TOTAL LIABILITY ON ALL
 * CLAIMS IN ANY WAY RELATED TO THIS SOFTWARE WILL NOT EXCEED THE AMOUNT
 * OF FEES, IF ANY, THAT YOU HAVE PAID DIRECTLY TO MICROCHIP FOR THIS
 * SOFTWARE.
 *
 * MICROCHIP PROVIDES THIS SOFTWARE CONDITIONALLY UPON YOUR ACCEPTANCE OF
 * THESE TERMS.
 *
 *
 ******************************************************************************/
#ifndef __MOTOR_PARAMS_H
#define __MOTOR_PARAMS_H

#ifdef  __cplusplus
extern "C" {
#endif

/* Stator resistance (line-to-neutral) */
#define MCAF_MOTOR_RS                       11406      // Q15(  0.34808) = +569.22829 mohm        = +569.24000 mohm        - 0.0021%
#define MCAF_MOTOR_RS_Q                        15

/* Maximum of Ld, Lq */
#define MCAF_MOTOR_LMAX_BASE_DT             11872      // Q11(  5.79688) = +473.98760 uH          = +474.00000 uH          - 0.0026%
#define MCAF_MOTOR_LMAX_BASE_DT_Q              11

/* Stator inductance (line-to-neutral) */
#define MCAF_MOTOR_LS_BASE_DT                9781      // Q11(  4.77588) = +390.50478 uH          = +390.50000 uH          + 0.0012%
#define MCAF_MOTOR_LS_BASE_DT_Q                11

/* Stator d-axis inductance (line-to-neutral) */
#define MCAF_MOTOR_LD_BASE_DT                7689      // Q11(  3.75439) = +306.98203 uH          = +307.00000 uH          - 0.0059%
#define MCAF_MOTOR_LD_BASE_DT_Q                11

/* Stator q-axis inductance (line-to-neutral) */
#define MCAF_MOTOR_LQ_BASE_DT               11872      // Q11(  5.79688) = +473.98760 uH          = +474.00000 uH          - 0.0026%
#define MCAF_MOTOR_LQ_BASE_DT_Q                11

/* Common-mode stator inductance (line-to-neutral) */
#define MCAF_MOTOR_L0_BASE_DT                9781      // Q11(  4.77588) = +390.50478 uH          = +390.50000 uH          + 0.0012%
#define MCAF_MOTOR_L0_BASE_DT_Q                11

/* Differential-mode stator inductance (line-to-neutral) */
#define MCAF_MOTOR_L1_BASE_DT               -2091      // Q11( -1.02100) =  -83.48282 uH          =  -83.50000 uH          - 0.0206%
#define MCAF_MOTOR_L1_BASE_DT_Q                11

/* Saliency ratio Lq/Ld */
#define MCAF_MOTOR_SALIENCY_RATIO            6324      // Q12(  1.54395) =   +1.54395             =   +1.54397             - 0.0019%

/* Relative saliency = (Lq-Ld)/(Lq+Ld) */
#define MCAF_MOTOR_RELATIVE_SALIENCY         7007      // Q15(  0.21384) = +213.83667 m           = +213.82843 m           + 0.0039%

/* Back-EMF constant of the motor */
#define MCAF_MOTOR_KE                        1024      // Q12(  0.25000) =  +28.36937 mV/(rad/s)  =  +28.36246 mV/(rad/s)  + 0.0243%
#define MCAF_MOTOR_KE_Q                        12

/* Inverse of BEMF constant of the motor */
#define MCAF_MOTOR_KE_INVERSE               16388      // Q12(  4.00098) =  +35.25789 (rad/s)/V   =  +35.25787 (rad/s)/V   + 0.0001%
#define MCAF_MOTOR_KE_INVERSE_Q                12

/* Magnetic Flux of the motor */
#define MCAF_MOTOR_PSI_BASE_OMEGA_E          4095      // Q14(  0.24994) =  +14.18122 mV*s        =  +14.18123 mV*s        - 0.0001%
#define MCAF_MOTOR_PSI_BASE_OMEGA_E_Q          14

/* Magnetic Flux of the motor */
#define MCAF_MOTOR_PSI_BASE_DT              16293      // Q12(  3.97778) =  +14.18080 mV*s        =  +14.18123 mV*s        - 0.0031%
#define MCAF_MOTOR_PSI_BASE_DT_Q               12

/* Maximum of Ld, Lq */
#define MCAF_MOTOR_LMAX_BASE_OMEGA_E        11935      // Q15(  0.36423) = +473.98616 uH          = +474.00000 uH          - 0.0029%
#define MCAF_MOTOR_LMAX_BASE_OMEGA_E_Q         15

/* Stator inductance (line-to-neutral) */
#define MCAF_MOTOR_LS_BASE_OMEGA_E           9833      // Q15(  0.30008) = +390.50741 uH          = +390.50000 uH          + 0.0019%
#define MCAF_MOTOR_LS_BASE_OMEGA_E_Q           15

/* Stator d-axis inductance (line-to-neutral) */
#define MCAF_MOTOR_LD_BASE_OMEGA_E           7730      // Q15(  0.23590) = +306.98894 uH          = +307.00000 uH          - 0.0036%
#define MCAF_MOTOR_LD_BASE_OMEGA_E_Q           15

/* Stator q-axis inductance (line-to-neutral) */
#define MCAF_MOTOR_LQ_BASE_OMEGA_E          11935      // Q15(  0.36423) = +473.98616 uH          = +474.00000 uH          - 0.0029%
#define MCAF_MOTOR_LQ_BASE_OMEGA_E_Q           15

/* Common-mode stator inductance (line-to-neutral) */
#define MCAF_MOTOR_L0_BASE_OMEGA_E           9833      // Q15(  0.30008) = +390.50741 uH          = +390.50000 uH          + 0.0019%
#define MCAF_MOTOR_L0_BASE_OMEGA_E_Q           15

/* Differential-mode stator inductance (line-to-neutral) */
#define MCAF_MOTOR_L1_BASE_OMEGA_E          -2103      // Q15( -0.06418) =  -83.51847 uH          =  -83.50000 uH          + 0.0221%
#define MCAF_MOTOR_L1_BASE_OMEGA_E_Q           15


/* 
 * motor under test:
 * id:                           linix-45ZWN24-40  
 * poleCount:                          4  
 * polePairs:                          2  
 * R:                            569.240 mohms line-neutral
 *                                 1.138  ohms line-line
 * L:                            390.500 uH line-neutral
 *                               781.000 uH line-line
 * Ld:                           307.000 uH line-neutral
 *                               614.000 uH line-line
 * Lq:                           474.000 uH line-neutral
 *                               948.000 uH line-line
 * Ke:                            28.362 mV/(rad/s) line-neutral 0-pk
 *                                49.125 mV/(rad/s) line-line 0-pk
 *                                 3.638  Vrms/KRPM line-line
 * B:                             11.095 uNm/(rad/s)
 * Tf:                             6.072 mNm
 * J:                              3.860 uNm/(rad/s^2)
 * Maximum velocity:             837.758  rad/s
 *                                 8.000 kRPM
 * Nominal (base) velocity:      418.879  rad/s
 *                                 4.000 kRPM
 * Nominal electrical frequency: 837.758  rad/s
 *                                 8.000 kRPM
 * Rated current:                  2.200  A
 * V1:                            11.880  V line-neutral
 * V1ll:                          20.578  V line-line
 * T1:                            93.596 mNm
 * P1:                            39.205  W
 *
 * Motor constant:                46.041 mNm/sqrt(W)
 * Electrical time constant:     686.002 us
 * Mechanical time constant:     347.866 ms
 * tau_m1:                         1.821 ms
 * Mechanical time constant including effect of stator resistance:  1.811 ms
 * Rotor flux:                    14.181 mVs
 * Saliency ratio:                 1.544  
 * tau_e_bar:                    0.574704  
 * tau_m_bar:                    0.762685  
 * alpha_J:                      2.654184  
 * alpha_B:                      0.005234  
 * alpha_psi:                    0.060580  
 * alpha_Tf:                     0.064874  
 * alpha_R:                      0.105411  
 */

#define MOTOR_PARAM_R                  5.692400000E-01   // stator resistance (ohms line-neutral)
#define MOTOR_PARAM_L                  3.905000000E-04   // stator inductance (H line-neutral)
#define MOTOR_PARAM_KE                 2.836246446E-02   // back-EMF constant (V/(rad/s) line-neutral 0-pk)
#define MOTOR_PARAM_J                  3.859584000E-06   // inertia (Nm/(rad/s^2))
#define MOTOR_PARAM_B                  1.109502900E-05   // viscous damping (Nm/(rad/s))
#define MOTOR_PARAM_TFR                6.072000000E-03   // Coulomb friction (Nm)
#define MOTOR_PARAM_POLE_COUNT                       4   // number of poles 
#define MOTOR_PARAM_POLE_PAIRS                       2   // number of pole pairs 

#ifdef  __cplusplus
}
#endif

#endif // __MOTOR_PARAMS_H
